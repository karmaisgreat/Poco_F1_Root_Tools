IMPORTANT:- Bootloader must be unlocked!

1) Enable USB debugging!
2) Push files!
3) Reboot to fastboot mode!
4) Boot into TWRP recovery!
5) Backup stock recovery using TWRP ADB Shell!
6) Flash DisableForceEncryption_Treble.zip from /sdcard/TWRP using TWRP!
7) Flash Magisk.zip from /sdcard/TWRP using TWRP!
9) After flashing reboot to system using TWRP.
8) After rebooting launch magisk manager flash custom module named safetynet-fix-v1.1.0.zip from /sdcard/TWRP!
9) Done you can exit program!